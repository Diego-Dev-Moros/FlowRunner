:root{
  --pwc-orange:#FF6600;
  --pwc-red:#990000;
  --pwc-gray:#CCCCCC;
  --pwc-black:#000000;

  --bg:#f8f8f8;
  --panel:#ffffff;
  --text:#222222;

  --border:#e2e2e2;
  --muted:#6b6b6b;

  --shadow:0 2px 8px rgba(0,0,0,.08);
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color:var(--text);
  background:var(--bg);
}

/* ───────────────── Topbar ───────────────── */
.topbar{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between; gap:1rem;
  padding:.75rem 1rem; background:var(--panel);
  border-bottom:1px solid var(--border); box-shadow:var(--shadow);
  min-height:60px; /* Altura mínima en lugar de fija */
}
.brand{ display:flex; align-items:center; gap:.6rem; }
.brand-dot{ width:12px;height:12px;border-radius:50%;
  background:linear-gradient(135deg,var(--pwc-orange),var(--pwc-red));
  box-shadow:0 0 0 2px rgba(0,0,0,.06);
}
.brand h1{ margin:0; font-size:1.05rem; font-weight:700; color:var(--pwc-black); }
.brand .sub{ font-size:.85rem; color:var(--muted); }

.actions{ display:flex; gap:.5rem; flex-wrap:wrap; }
.btn{
  appearance:none; border:none; cursor:pointer;
  padding:.5rem .8rem; border-radius:.5rem; font-weight:600; font-size:.9rem;
  color:#fff; transition:transform .05s ease, box-shadow .2s ease, opacity .2s ease;
  box-shadow:0 2px 0 rgba(0,0,0,.08);
}
.btn:active{ transform:translateY(1px); }
.btn-primary{ background:var(--pwc-orange); }
.btn-secondary{ background:#606060; }
.btn:hover{ opacity:.9; }
.btn:disabled{ opacity:.4; cursor:not-allowed; }

/* ───────────────── Layout 3 columnas ───────────────── */
.layout{
  display:grid; 
  grid-template-columns:min-content 1fr min-content; 
  grid-template-rows:1fr auto; 
  height:calc(100vh - 60px);
}
#sidebar{ grid-row:1/3; background:var(--panel); border-right:1px solid var(--border); }
#main{ position:relative; }
#props{ grid-row:1/3; background:var(--panel); border-left:1px solid var(--border); }

/* ───────────────── Toolbar (sidebar) ───────────────── */
.toolbar{
  width:240px; max-height:100vh; overflow-y:auto; padding:.5rem;
  scrollbar-width:thin; scrollbar-color:var(--muted) transparent;
}
.toolbar h3{ margin:.8rem 0 .4rem; font-size:.85rem; text-transform:uppercase; color:var(--muted); letter-spacing:.05em; }
.toolbar-group{ margin-bottom:1rem; }
.draggable{
  display:flex; align-items:center; gap:.5rem; cursor:grab;
  padding:.4rem; border:1px solid var(--border); border-radius:.4rem; background:#fff;
  margin:.2rem 0; font-size:.8rem; transition:all .15s ease;
}
.draggable:hover{ box-shadow:var(--shadow); }
.draggable:active{ cursor:grabbing; }

/* ───────────────── Props panel ───────────────── */
#props{
  width:280px; overflow-y:auto; padding:1rem;
  scrollbar-width:thin; scrollbar-color:var(--muted) transparent;
}
.form-group{ margin-bottom:1rem; }
.form-group label{ display:block; font-weight:600; margin-bottom:.3rem; font-size:.85rem; color:var(--text); }
.form-group input, .form-group select, .form-group textarea{
  width:100%; padding:.5rem; border:1px solid var(--border); border-radius:.4rem; font-size:.85rem;
  transition:border-color .2s ease; background:#fff;
}
.form-group input:focus, .form-group select:focus, .form-group textarea:focus{
  outline:none; border-color:var(--pwc-orange);
}
.form-group textarea{ resize:vertical; min-height:70px; }

/* ───────────────── Workspace ───────────────── */
#workspace{
  position:relative; overflow:auto; background:#fafafa; height:100%;
  scrollbar-width:thin; scrollbar-color:#ccc transparent;
}

#lienzo, #svgEdges{
  position:absolute; top:0; left:0;
  transform-origin:0 0;
}

#svgEdges{
  pointer-events:none; z-index:1;
}
#svgEdges path{
  stroke:#666; stroke-width:2;
  fill:none; vector-effect:non-scaling-stroke;
  shape-rendering:geometricPrecision;
}

.canvas-hint{
  position:absolute; top:50%; left:50%; transform:translate(-50%, -50%);
  color:var(--muted); font-size:1.1rem; text-align:center; pointer-events:none;
  display:flex; align-items:center; justify-content:center;
}

/* ───────────────── Console ───────────────── */
#console{
  border-top:1px solid var(--border); background:var(--panel);
  max-height:200px; overflow-y:auto; display:flex; flex-direction:column;
  scrollbar-width:thin; scrollbar-color:var(--muted) transparent;
}
.console-header{
  display:flex; align-items:center; justify-content:space-between; gap:.5rem;
  padding:.5rem; border-bottom:1px solid var(--border); background:#f9fafb;
}
.console-header h4{ margin:0; font-size:.85rem; color:var(--muted); }
.console-content{ flex:1; padding:.5rem; overflow-y:auto; min-height:100px; max-height:140px; }
.console-line{ margin:.2rem 0; font-size:.8rem; font-family:ui-monospace,Consolas,monospace; }
.console-line.info{ color:#0066cc; }
.console-line.error{ color:#cc0000; }
.console-line.success{ color:#006600; }

/* ───────────────── Badges ───────────────── */
.badge{
  display:inline-block; padding:.15rem .4rem; border-radius:.25rem; font-size:.7rem; 
  font-weight:600; text-transform:uppercase; letter-spacing:.03em;
}
.badge-primary{ background:#e0f2fe; color:#0277bd; }
.badge-secondary{ background:#f5f5f5; color:#616161; }
.badge-success{ background:#e8f5e8; color:#2e7d32; }
.badge-warning{ background:#fff3e0; color:#f57c00; }
.badge-error{ background:#ffebee; color:#d32f2f; }

/* ───────────────── Custom Scrollbars ───────────────── */
.toolbar::-webkit-scrollbar,
#props::-webkit-scrollbar,
#workspace::-webkit-scrollbar,
#console::-webkit-scrollbar{
  width:8px; height:8px;
}
.toolbar::-webkit-scrollbar-track,
#props::-webkit-scrollbar-track,
#workspace::-webkit-scrollbar-track,
#console::-webkit-scrollbar-track{
  background:#eceff3;
}
.toolbar::-webkit-scrollbar-thumb,
#props::-webkit-scrollbar-thumb,
#workspace::-webkit-scrollbar-thumb,
#console::-webkit-scrollbar-thumb{
  background:#c1c9d2; border-radius:8px;
}
.toolbar::-webkit-scrollbar-thumb:hover,
#props::-webkit-scrollbar-thumb:hover,
#workspace::-webkit-scrollbar-thumb:hover,
#console::-webkit-scrollbar-thumb:hover{
  background: #8f97a6;
}
#workspace::-webkit-scrollbar-corner{ background:#eceff3; }
